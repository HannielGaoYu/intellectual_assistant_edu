export const text1 = "好，刚才的话我们是给大家讲了一下我们播放模式的一个逻辑的抽取和封装，讲完这里的这个东西之后的话，我们继续来看啊同学们现在的话我准备再来做另外一个抽取了。另外一个什么抽取？呢就是改变当前的歌曲，就是我们这里要给它播放新的一个歌曲了，我们这句话可以叫一个名字叫plate，new的一个 Music对吧？我们这里的一个action给我播放一首新的歌曲，但是这个新的歌曲到底是上一首还是下一首，呢我们这里也不知道，所以这里的话我让你给我传一个参数，是不是下一首？如果是的话，我们这里就给它写上一个处，如果不是的话，你是不是给我传入一个祸水？啊能理解吗同学们？可以，我在这里是不是给他写上一个这样的action？啊我这里写上这样的action的话，你想想我在我们这里的这个地方，现在要改变我们当前歌曲的时候，我还需要给他写这个操作吗？不需要了，你给他写的应该是一个play state，play store play store Play store时候的话这里给他来一个啊 this part，然后你告诉我你现在准备改变歌曲了，你准备改变歌曲的话，这里是哪一首？上一首吧朋友们。所以这里我给它传入一个force，而这里这个地方给它传入一个处，当然也可以不传，因为默认是不是没处，呀所以这里可以不传给他，这样来做给他，这样来做的话我问一下大家在我们的这个页面里面，现在还有人在调这个方法吗？没有了，是不是没有人调这个方法了？既然没有人调这个方法，你不觉得就是把我们这个方法里面所有的逻辑怎么做？K线出来x给他剪掉对吧？大家可能经常在写代码的时候不敢随便剪代码，同学们只要你这个逻辑清晰之后，这个代码随便剪就行了。好把这个代码给它剪掉，剪掉以后你看我们这里现在这个代码多简洁，啊每个地方都告诉我store现在就是做一个什么操作store做一个什么样的操作，看全部都已经给它变成一个store的一个操作了，这里已经没有任何代码逻辑了，同学们已经基本上没有代码逻辑了，只有自己的一个代码逻辑对吧？你看接听事件之后的话，做的事情都很简单了，那么接下来我们把这个代码放到这里来就可以了，到这里来的话来到我们上面这里这个地方，然后呢再做一个缩印，往这边来做一个缩印，缩印之后的话，朋友们这里我们做的是什么事情呢？首先第一个是不是拿到我们整个歌曲列表的一个总长度？呀那么整个整个列表长度在这里能不能拿出来吗？可以，康txt最早的时候play上历史的是不是就是在我里面的？呀不是万田吗？我们第一个在这个 Store里面放的数据不就是play song list和play song I index了吗？所以在我这里的这些东西我统统都是有的，直接在这里拿就可以了，然后这里的话我们是不是要根据不同的模式来这里做不同的操作，呀那也很简单，我们刚才已经把模式给它传过来了，所以这里的话康txt的一个play mode in x如果为一或者为0的时候，都是给他找上一首或者下一首的一个歌曲，对吧？找上一首或者下一首的一个歌曲。然后在这里的话这里是一个我们对应的随机播放朋友们，随机播放的话也是在这里给它随机一首歌，然后呢拿到我们对应的 index拿到对应的index的话，我现在要从我的play list里面去拿东西了。所以这里的话来个康txt place on list里面根据索引去拿到一首新的歌曲拿到新的歌曲之后的话，我们在这里这个地方是把这些数据要给它做一个重置的，朋友们要给它做一个重置的话，朋友们当然你可以在这里重置，其实我也可以在这里重置，啊朋友们在哪里重置？呢就是我每次在播放一个新的歌曲的时候，我都先给你做一个重置，其实我也可以在这里重置啊什么就是play我们的上位置ID就只要我这里给你传入一个新的一个歌曲，那么我这里的话就先把我们原来的数据做一个重置，原来的数据给它进行我们的重置，怎么重置呢拿到我们的康txt，比如这里的话篇文的上，对吧？我们这里的话先给它设置为一个空对象，然后这地方还有康txt的一个短信设置为0，然后这地方还有个掉瑞性的一个time，然后设置为0，包括我们这里的话还有我们对应的这个什么东西，呢我们这里对应的一个歌词，还有一个凯伦他我们的一个来瑞克的一个 index，然后这里话给它设置为零对吧？设置为0，然后包括我们这里的这个东西，凯润他我们的莱瑞克的一个test，然后设置为一个空的字符串，然后凯恩他我们这里的什么莱瑞克的一个enforce，然后把这个电话设置为一个空速度，依次的把原来数据全部给我清空一下，全部给我清空一下，然后呢再给我拿到新的ID之后播放新的歌曲对吧？那么这样的话这个地方我就不需要做重置了，我只需要拿到新的歌曲给它播放新的歌曲就可以了，当然你这里播放新的歌曲的话就不是在这里调zs，这里是另一个方法了，我们这里的话应该是来个zs来个什么东西可以吗？Diss part我之前跟大家说到过，啊我这个里面z是指向当前的story可以吗？所以在这里的话是可以给他直接派发我们的disc part去的，派发disc part去的话，你把我们刚才封装的这里播放歌曲的这个东西给他，拿过来拿过来之后的话，把这里的这个东西放到这里去，然后这里产生一个什么东西，啊你有这样的啊 ID是不是给我播放这首歌曲啊播放这首歌曲的话，我们当前这里这个东西有发生改变，那我们这里的话通过我们的zs来设置，或者通过我们这里的康txt来做，对它这个东西做一个设置记录，它最新的index就可以了。这个东西你就不需要写了，给他写这个东西。好，那么写完我们这里这个东西的话，填出来是我们来做一个保存啊做一个保存，嗯还是之前的逻辑，啊同学们如果之前逻辑你还没有写的话，我在这里写一些逻辑的时候，可能你跟不上，同学们没有关系，啊明天我们这里的话是自习，大家好好来练习一下这个东西。如果觉得这个东西太难的话，你先不抽取也可以啊什么，但是抽出去之后你会发现你再回到这里的时候，这个代码变得全部都很简洁，了解吗？这个代码已经变得很简洁了。好，我们来到这里啊什么，然后这里的话把这个当前播放的歌曲这个东西我们给它打开，啊把这个东西给它打开。另外这里还有个问题同学们，就是我们之前在这里接听的时候，这里是有个凸度的切换，下一首歌切换下一首歌对我们来说现在太简单了，来一个Discovery就可以了，Discovery什么东西，呢刚才我们这里有个方法叫做play new music的一个 action，你给我调这个东西就可以了，你调这个东西的话就会执行我们这里的这个方法了，执行这里的这个方法了，执行这个方法的话我们就可以自动切换下一首歌曲了，所以在这里可以这样来做完听了填入s我们这里的话来做一个保存，这个保存的话这里就正在播放我们的歌曲。好，我们来验证一下，同学们看一下出现逻辑。嗯嗯嗯好，那我们这里话来试一下，你们我呃当然我们这里现在没有下一首，因为我们这里是在这个里面编译的，我们这里的话得进到这里啊进到这里的话，我们才有我们对应的播放列表，还有播放列表，我们这里的话点击这个啊再见模拟卡对吧？好点一下这个东西。好，它正在播放这一首歌，啊同学们看啊我现在点击下一首啊点击下一首歌曲，嗯嗯大家看有没有来到下一首，有的也切换歌曲了，但是切换逻辑已经放到指标里面了，再点击下一首，有没有来到下一首？有的，如果我这里现在是一个单曲循环，我切换的时候会不会切换到下一首？会的，这个是不是我们之前写的逻辑啊之前我们有些同学想实现的就是这个逻辑啊切换到下一首了。然后我们这里的话再来看一下这个同学们它自然播放完，在单曲循环的情况下自然播放完应该怎么做？应该单曲循环吧是不是继续播放这首歌曲？啊对吧？来这里啊同学们看一下，这里的话给它播放完毕。23有没有继续播放这一首歌？有，这不是单曲循环嘛播放完之后继续播放这首歌曲嘛对吧？好，当然了同学们我们这句话再来试一下随机播放。这句话是小城夏天我们点一下随机播放，随机播放的话是不是找到这首歌还是什么？找到这首歌，然后呢这里的话找到的是这首歌。有随机吗？没有随机的那种感觉，唉有随机吧天马，刚才随机的呃有有点不够随对吧有点不够随对吧？好你看没有那么随机，这里因为我们只有6首呀天马，这里有随机的，你看莫妮卡前面这首歌是不是这个？啦没问题吧田妈？没问题了没问题了，我们这里有带随机看到这一首了，有随机的有随机的，没有随机的话你给它调试一下，同学们看一下哪里代码逻辑有问题，我们这个代码逻辑是没有问题的，没有问题了对吧？当然我们现在如果点击到这里让它自然播放完，它是不是应该是自动随机一首歌？呀这里可不是单曲循环啊要随机一首歌的，我们来验证一下。吧大家看有没有随机一艘？有的就可以随机播放了，在你这个列表里面随机做一个播放嘛就这里的这么一个过程，对吧？好，那么我们这里的这个代码的逻辑的抽取也已经给它搞定了，搞定之后你再来看一下你当前这个地方代码逻辑啊对吧？首先第一个的话我们进入到页面里面，进入到页面里面之后的话，我们拿了一些我们APP里面保存的一些全局的我们的这些高度相关的一些数据，然后呢在这里的话我们看了一下别人有没有传进来一个ID，如果你传进来一个ID之后的话，我就根据你这个ID让你开始让store store，现在别人传进来一个ID给我根据这个 Id播放歌曲，它就会开始播放歌曲，然后我们做的事情就是从这个 store里面开始去拿数据开始去拿数据了，他就去拿数据了，我们这里就已经在拿数据了，拿到数据之后我们去做的就是刚才那个地方所有逻辑，同学们你看我们最终所有逻辑就就这点逻辑，同学们就这里拿到这个数据之后给他设置拿到这个数据之后做什么事情，拿这个数据之后做什么事情，拿这个数据做什么事情，拿这个数据做什么事情，就这里这个代码了。对吧？你根据不同的数据你有不同的处理，根据不同数据作出不同处理的话，基本上显示不同东西，最核心的代码就这么。几行代码可以吗？这就是抽取的好处对吧？好，当然这里我们还拿了一下这个东西，其实你可以给它合并到一个里面就行了，这个合可以合并到一个里面，但我们这里不合并了对吧？好就是这里这个东西，然后这里就是我们处理了，你看以前我们这里为了改变这个播放模式，啊你这里写了一大堆东西，现在不需要你做了不需要你做了，我这个地方已经全部给你封装好了，你dispatch一下就可以了。如果别的一些地方也改变播放模式，一行代码搞定了，对吧？因为全部都已经在这个里面给你写好了，然后这里的这个地方给它点击下一首下一首不需要你管，你直接告诉我给我准备下一首歌，这里已经帮你搞定了，上一首歌曲接听点击，然后上一首歌曲看全部已经搞定了，同学们这个代码很简单，然后这里的话是根据我们滑动这里显示不同的一个东西，这个逻辑是你的拿歪了计算最新的这个值，这个是你的逻辑，这个不是我们知道的逻辑，是你的逻辑，你自己写自己逻辑，然后这里的话还有这个逻辑这个逻辑的话也属于你自己逻辑，你看这里的话给他写自己的逻辑就可以了，写自己的东西啊对吧？那那么这里的话就是我们这里这些东西，其实我们现在的话这个东西可以不要它，因为我们这里这个节流的话基本上是可以解决之前这么一个问题的。我们上午的话发现它这里还跳动的话，应该也是我们之前说的那个问题，啊亲们，就是之前的话我们在这里给它来回拖动的时候的话，它的事件有点执行不完，执行不完的话就会造成这么一个问题了，我们这里给他做一个节流之后就应该有没有这个问题了，对吧？好，大家看一下的话可以测一下，你看这里没啥东西了，你们这里就是一个改变进度的东西。所以在我们目前这个 Play啊里面看到我们原来的话，这里的这个很多的代码量现在全部都给它抽取出去了，我们语文老师现在这个代码量看起来也不少，呀对吧？也有160多行代码呀对吧？但是但是我告诉你这里全部都是义务判断，全部都是义务判断，义务判断之后的话做了一个设置做了一个设置，因为本身你这个里面都用到了这么多数据，你代码量能少得了吗？你光光你的德尔塔里面就有多少代码量，呢对吧？就有这么多代码量，呢我们这里的话还有一些异步判断的一个逻辑，也有写代码量，所以真正这个里面的逻辑现在已经变得很简单了，之所以变得很简单，都是因为给它抽取到这个里面去了，能理解吗？你们可以啊课下的话好好来看一下。这个东西确实会有点难的同学们，而且可以这样说相当的难，对吧？相当的难有一定的难度，啊同学们你做小程序大概率是遇不到这种比较这种这么复杂的一个数据的，基本上是遇不到的。包括我们平常做这种PC端的页面，基本上的话也不会按照这种方式对吧？来这里给他做这么多，逻辑之间，你看逻辑和逻辑之间有关系，数据和数据之间有关系，然后这个代码抽取的话牵一发而动全身，对吧？这种其实还是比较少见的，同学们一般情况下在公司遇到的前端的这种逻辑，一般没有这么复杂的对吧？但是你把这个逻辑搞定的话，一些别的东西肯定就更简单了。好，课下自己来看一下，同学们，如果你觉得第五份代码抽取逻辑的过程太复杂了，那么你先不做也可以把前面东西先给它做完。吧好，那么讲完我们这里这个东西的话，我就把刚才这部分先来保存个视频啊保存视频。"